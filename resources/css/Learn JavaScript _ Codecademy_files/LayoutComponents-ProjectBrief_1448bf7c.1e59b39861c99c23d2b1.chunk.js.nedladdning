(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[505],{"8YOW":function(e,t,a){"use strict";a.r(t),a.d(t,"ProjectBrief",(function(){return ProjectBrief}));var r=a("rePB"),c=a("ODXe"),n=a("q1tI"),o=a.n(n),s=a("/MKj"),l=a("fTi7"),i=a("QHjb"),p=a("lREb"),d=a("swBZ"),b=a("5JLQ"),u=a("CWAm");const useMeaningfulContentLoaded=()=>{const e=Object(s.useDispatch)();Object(n.useEffect)((()=>{e&&e(Object(u.d)())}),[e])};var k=a("QkVN"),j=a.n(k);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const normalizeChecklist=(e,t)=>e.flatMap((e=>e.tasks)).reduce(((e,{task_key:a})=>_objectSpread(_objectSpread({},e),{},{[a]:Boolean(t[a]&&"false"!==t[a])})),{});var m=a("wE9P"),O=a("p7af"),h=a("84j9"),f=a("YA6q"),y=a("jhD/"),_=a("2oex"),g=a("KTzr");function handleProjectProgressUpdates_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function handleProjectProgressUpdates_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?handleProjectProgressUpdates_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):handleProjectProgressUpdates_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function project_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function project_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?project_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):project_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const updateProjectTaskProgress=(e,t,a,r={})=>async(c,n)=>{const o=Object(m.a)(n(),{id:e.id});if("project"===o.type){const n=e.projectInformation.self_assessments.reduce(((e,r)=>j()(e,r.tasks.reduce(((e,{task_key:r})=>{const c=r===t?a:o.checklist[r],n="true"===c||!0===c;return j()(e,{[r]:n})}),{}))),{}),s=Object.values(n),l=s.filter((e=>e)).length===s.length,i=project_objectSpread(project_objectSpread({},o),{},{content_item_id:e.id,checklist:n,completed:l});c(Object(u.h)({data:project_objectSpread(project_objectSpread({},r),{},{project:e.slug,self_assessment:t,submit_type:"project_checklist_submit"})})),l&&c(Object(u.b)()),c(Object(O.b)(i)),c(((e,t)=>async(a,r)=>{const c=Object(_.i)(r()),n=c.track_id,o=await Object(f.a)({method:"POST",endpoint:"/practice/update_project_progress",data:handleProjectProgressUpdates_objectSpread({project_id:e,track_id:n,tasks:t,utc_offset:Object(h.c)()},Object(y.a)(c))});await o.json(),a(Object(g.a)())})(e.id,n))}},startProject=e=>async t=>{t(Object(O.b)({content_item_id:e.id,started:!0})),t((e=>async(t,a)=>{const r=Object(_.i)(a()),c=r.track_id,n=await Object(f.a)({method:"POST",endpoint:"/practice/start_project",data:handleProjectProgressUpdates_objectSpread({project_id:e,track_id:c,utc_offset:Object(h.c)()},Object(y.a)(r))});await n.json(),t(Object(g.a)())})(e.id))};var w=a("2Y9M"),E=a("doSx"),C=a("hsD4"),v=a("/VKx"),P=a("TSYQ"),x=a.n(P),T=a("OoWH"),S="body__1puO-PnHFWpw0UyjbWF1No",D="item__2f2y_7I5rfWJ_TLZSmhALb",I="centeredCheckbox__2QQhtR9gO-52xrQs_8ZEjS",K="narrativeMarkdown__1UywfcBd-60XKky6qUHIYA",B="scrollable___DFOWZAyFa-jr7fZML66U",N=a("kVzq");class TaskCheckBox_TaskCheckBox extends o.a.PureComponent{constructor(...e){super(...e),Object(r.a)(this,"onKeyDown",(e=>{13!==e.which&&32!==e.which||(this.props.onToggle(),e.preventDefault())}))}componentDidMount(){this.props.broadcast("taskItemMounted")}render(){const e=x()({"fcn-task__check":!0,"fcn-task__check--checked":this.props.checked,[I]:!0});return o.a.createElement("div",{"aria-checked":this.props.checked,"aria-label":this.props.label,className:e,"data-cue":"discovery-checklist",onKeyDown:this.onKeyDown,role:"checkbox",tabIndex:0,"data-testid":`task-${this.props.number}-checkbox`},this.props.checked&&o.a.createElement(N.a,{"aria-hidden":!0}))}}class TaskItem_TaskItem extends n.PureComponent{constructor(...e){super(...e),Object(r.a)(this,"handleClick",(()=>{this.props.hasCourseContentItemAccess&&this.props.setTask(!this.props.done)}))}render(){const e=x()({"fit-full":!0,"fcn-task":!0,"fcn-task--complete":this.props.done});return o.a.createElement("article",{className:e},o.a.createElement(v.a,{className:S,onClick:this.handleClick},o.a.createElement(v.b,null,o.a.createElement(TaskCheckBox_TaskCheckBox,{broadcast:this.props.broadcast,checked:this.props.done,label:`Task item ${this.props.number}`,onToggle:this.handleClick,number:this.props.number})),o.a.createElement(v.b,{className:D},o.a.createElement("span",{className:"fcn-task__number","data-testid":`task-${this.props.number}`},this.props.number,".")),o.a.createElement(b.a,{text:this.props.text,className:x()(K,B)})),this.props.hint?o.a.createElement(T.a,{hint:this.props.hint}):null)}}var L=Object(s.connect)((e=>({hasCourseContentItemAccess:Object(_.P)(e)})))(TaskItem_TaskItem);class TaskListHeader_TaskListHeader extends o.a.PureComponent{render(){return o.a.createElement("h2",{className:"fit-full fcn-task-header"},this.props.heading)}}var z="tasks__2zeiH_BHmhuJBXUlJC3X0R",H="tasksHelp__2gwNuLZ9kdz9gCp9vw39no";class TaskList_TaskList extends o.a.Component{constructor(...e){super(...e),Object(r.a)(this,"makeTaskItems",(({heading:e,tasks:t},a,r)=>{const c=[];return t.forEach(((e,t)=>{var n;const s=this.props.progress,l=e.done,i=null==s||null===(n=s.checklist)||void 0===n?void 0:n[e.task_key];c.push(o.a.createElement(L,{text:e.text,number:t+1+a,key:`task-${e.task_key}`,hint:e.hint,done:l||Boolean("string"==typeof i?"true"===i:i),broadcast:this.props.broadcast,setTask:e=>{this.props.setTask(r,t,e)}}))})),o.a.createElement("div",{key:`task-criteria-${e}`},c)}))}render(){const e=[];let t=0;return this.props.taskGroups.forEach(((a,r)=>{a.heading&&a.heading.length>0&&e.push(o.a.createElement(TaskListHeader_TaskListHeader,{key:`task-heading-${a.heading}`,heading:a.heading})),e.push(this.makeTaskItems(a,t,r)),t+=a.tasks.length})),o.a.createElement("div",{className:z},o.a.createElement("span",{className:H},"Mark the tasks as complete by checking them off"),e)}}var W=a("45Gz"),A=a("DZdY"),F=a("QqFe"),U=a("630U"),G=a("Xxlx"),M=a("z9go"),R="group__LspoGf1Fw0-ac_AUnuvRV";function ButtonGroup_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}const V=Object(A.a)(F.b,{target:"ehu8l140",label:"YellowButton"})(Object(U.h)({bg:"yellow",color:"black"}),"");var $=Object(s.connect)((e=>({contentIds:Object(_.i)(e)})))((({contentIds:e,project:t,hasNoProgress:a,onStart:c})=>{const n=Object(s.useSelector)(_.P),l=t.slug,i=t.title,p=t.projectInformation.download_path,trackStart=e=>{p&&Object(M.b)("user","email_trigger",function ButtonGroup_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ButtonGroup_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ButtonGroup_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({content_item_name:i,content_item_id:l},e))};return o.a.createElement("div",{className:R},p&&o.a.createElement(G.a,{data:{content_ids:e,target:"ipp_start_download"},href:p,onClick:()=>trackStart({type:"ipp_start_download"})},o.a.createElement(V,{onClick:a?c:void 0,"data-testid":"download-btn",disabled:!n},"Download")),a&&o.a.createElement(G.a,{data:{content_ids:e,target:"ipp_start_platform"},disableTracking:!p,onClick:()=>trackStart({type:"ipp_start_platform"})},o.a.createElement(V,{onClick:c,"data-testid":"start-btn",disabled:!n},"Start")))}));function useTaskChecklist(e,t){const a=Object(s.useDispatch)(),r=Object(n.useMemo)((()=>{if("project"!==(null==t?void 0:t.type)||null==t||!t.checklist)return;const e=Object.values(t.checklist);return{total:e.length,complete:e.filter((e=>e)).length}}),[t]);return Object(n.useEffect)((()=>{a&&a((({id:e,projectInformation:{self_assessments:t}})=>async(a,r)=>{const c=Object(m.a)(r(),{id:e});if("project"!==(null==c?void 0:c.type))return;const n=project_objectSpread(project_objectSpread({},c),{},{content_item_id:e,checklist:normalizeChecklist(t,c.checklist)});a(Object(O.b)(n))})(e))}),[a,e]),{count:r}}var q={taskHeading:"taskHeading__1JEaVBblmeZBvqgNSR70QO",taskListCounter:"taskListCounter__1ntH11Ojh2_05E78kaz98u"};var narrative_Brief=({broadcast:e,presenter:{project:t,contentItemTitle:a,contentParentTitle:r,progress:c},modifiers:{assessments:l}})=>{const u=Object(s.useDispatch)(),k=Object(s.useSelector)(_.J),j=useTaskChecklist(t,c).count;useMeaningfulContentLoaded();const m=Object(n.useCallback)((()=>{e("start"),u(startProject(t))}),[e,u,t]),O=r||(null==k?void 0:k.title),h=a||(null==t?void 0:t.title),f={heading:o.a.createElement(C.a,{as:"div",icon:i.a},d.components.brief.objective),content:o.a.createElement(w.a,{contentParentTitle:O,contentItemTitle:h},o.a.createElement(b.a,{text:t.projectInformation.objective}),o.a.createElement($,{hasNoProgress:!c.started,onStart:m,project:t})),key:"objective"},y={hidden:!c.started,heading:o.a.createElement(C.a,{icon:p.a,notes:j&&o.a.createElement(W.a,{classNames:{normal:q.taskCounter},total:j.total,complete:j.complete})},d.components.brief.tasks),content:o.a.createElement(TaskList_TaskList,{taskGroups:l,setTask:(e,a,r)=>{const c=l[e].tasks[a];u(updateProjectTaskProgress(t,c.task_key,r))},broadcast:e,progress:c}),key:"selfAssessments"};return o.a.createElement(E.a,{content:[f,y]})},Q=a("wx14"),Y=a("jY6L");function tracking_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function tracking_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tracking_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tracking_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const J="resources",Z="objective",X="project",useProjectTracking=()=>{const e=Object(s.useSelector)(Y.d),t=Object(n.useCallback)(((t,a)=>{const r=tracking_objectSpread(tracking_objectSpread({},e),{},{context:t,target:a});return Object(M.c)(r)}),[e]),a=Object(n.useCallback)(((t,a)=>{const r=tracking_objectSpread(tracking_objectSpread({},e),{},{context:t,target:a});return Object(M.d)(r)}),[e]);return{trackDownloadCodeImpression:Object(n.useCallback)((()=>a(J,"download_code")),[a]),trackWalkthroughVideoImpression:Object(n.useCallback)((()=>a(J,"walkthrough_play")),[a]),trackExpandAllTasksClick:Object(n.useCallback)((()=>t(Z,"expand_all_tasks")),[t]),trackCollapseAllTasksClick:Object(n.useCallback)((()=>t(Z,"collapse_all_tasks")),[t]),trackTaskCompletionClick:Object(n.useCallback)((e=>t(Z,e)),[t]),trackWalkthroughVideoPlayClick:Object(n.useCallback)((()=>t(J,"walkthrough_play")),[t]),trackWalkthroughVideoNewTabClick:Object(n.useCallback)((()=>t(J,"walkthrough_window")),[t]),trackDownloadCodeClick:Object(n.useCallback)((()=>t(J,"download_code")),[t]),trackForumLinkClick:Object(n.useCallback)((()=>t(J,"forum")),[t]),trackCheatsheetClick:Object(n.useCallback)((()=>t(J,"cheatsheet")),[t]),trackResetProjectClick:Object(n.useCallback)((()=>t(J,"reset")),[t]),trackReportBugClick:Object(n.useCallback)((()=>t(J,"report_bug")),[t]),trackGeneralFAQClick:Object(n.useCallback)((()=>t(J,"general_faq")),[t]),trackObjectiveTabClick:Object(n.useCallback)((()=>t(X,"objective_tab")),[t]),trackResourcesTabClick:Object(n.useCallback)((()=>t(X,"resources_tab")),[t])}};var ee=a("OEGx"),te=a("m4dF");const ae=[{icon:i.a,text:"Objective"},{icon:te.a,text:"Resources"}],TabbedNarrative=({children:e,tabTitles:t=ae,onTabChange:a})=>o.a.createElement(ee.e,{height:"100%",variant:"block",onChange:e=>{null==a||a(e)}},o.a.createElement(ee.b,null,t.map((({icon:e,text:t})=>o.a.createElement(ee.a,{key:t},o.a.createElement(e,{"aria-hidden":!0,mr:12}),t)))),o.a.createElement(ee.d,{overflowY:"auto",maxHeight:"calc(100% - 64px)"},e));var re=a("uQrA");const TabbedNarrativePanel=({contentTitle:e,children:t})=>o.a.createElement(ee.c,{overflowY:"auto"},e?o.a.createElement(re.a,{fontSize:14,fontWeight:"bold",mt:0,mx:24,textTransform:"uppercase"},e):null,t);var ce=a("yrBZ");const ne=Object(n.forwardRef)((function NarrativeSection({children:e,sectionTitle:t,sectionDescription:a,descriptionIsMarkdown:r},c){return o.a.createElement(ce.a,{mx:24,ref:c},o.a.createElement(re.a,{my:16,as:"h2",fontSize:"xx-large"},t),r&&a?o.a.createElement(b.a,{text:a}):o.a.createElement(re.a,{mb:16,width:"100%"},a),e)}));var oe=a("owCg"),se=a("Ey5D"),le=a("5u8U"),ie=a("Fx1f"),pe=a("BalV"),de=a("nJaN"),be=a("UIq1"),ue=a("ATyU");const TaskHint=({hint:e})=>{const t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],s=a[1];return e?o.a.createElement(se.a,{variant:"plain"},o.a.createElement(je,{expanded:r,renderExpanded:()=>o.a.createElement(ke,null,o.a.createElement(b.a,{text:e}))},o.a.createElement(ce.a,{py:24},r?o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.a,{variant:"inline",onClick:()=>s(!1)},"Hide hint")):o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,null,"Need some extra help?"),o.a.createElement(oe.a,{variant:"inline",onClick:()=>s(!0),ml:8},"Show a hint"))))):null},ke=Object(A.a)(ue.a.div,{target:"eye0br11",label:"ExpandableHint"})(be.a,""),je=Object(A.a)(se.d,{target:"eye0br10",label:"HintListRow"})(U.y.css({mt:16,borderTop:1,borderColor:"background-hover"}),""),TaskBody=({task:e,setIsComplete:t})=>o.a.createElement(ce.a,{width:"calc(100% - 48px)",bg:"background",overflow:"hidden",mx:24,mt:16},o.a.createElement(b.a,{text:e.text}),e.done?o.a.createElement(F.b,{my:16,size:"small",onClick:()=>t(!1,"incomplete_task_button")},o.a.createElement(ce.b,{alignItems:"center",p:0},o.a.createElement(N.a,{size:16}),o.a.createElement(re.a,{fontSize:"medium",ml:4},"Completed"))):o.a.createElement(F.e,{size:"small",my:16,variant:"secondary",border:1,borderColor:"white",onClick:()=>t(!0,"complete_task_button")},o.a.createElement(re.a,{fontSize:"medium"},"Mark complete")),o.a.createElement(TaskHint,{hint:e.hint})),ObjectiveTask=({task:e,index:t,isExpanded:a,setIsExpanded:r,setIsComplete:c})=>o.a.createElement(me,{expanded:a,renderExpanded:()=>o.a.createElement(TaskBody,{task:e,setIsComplete:c})},o.a.createElement(ce.b,{alignItems:"center",px:24,width:"100%"},o.a.createElement(fe,{onClick:()=>{c(!e.done,e.done?"incomplete_task_circle":"complete_task_circle")}},o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{screenreader:!0},e.done?`Mark Task ${t} as incomplete`:`Mark Task ${t} as complete`),e.done?o.a.createElement(ie.a,{"data-testid":"chk_icon",color:"primary",size:16}):o.a.createElement(Oe,{"data-testid":"circle_icon",size:16,borderColor:"secondary"}))),o.a.createElement(he,{"aria-expanded":!!a,onClick:()=>r(!a)},o.a.createElement(re.a,{ml:8,fontFamily:"accent"},`Task ${t}`),o.a.createElement(ce.a,{flexGrow:1}),a?o.a.createElement(pe.a,{size:16}):o.a.createElement(de.a,{size:16})))),me=Object(A.a)(se.d,{target:"emcmdy13",label:"TaskListRow"})(U.y.css({bg:"background-primary",borderTop:1,borderColor:"background-hover"}),""),Oe=Object(A.a)(ce.a,{target:"emcmdy12",label:"Circle"})((e=>U.y.css({borderRadius:"1000px",width:e.size,height:e.size,boxSizing:"border-box",border:1})),""),he=Object(A.a)(le.a,{target:"emcmdy11",label:"FullWidthButton"})(U.y.css({width:"100%",display:"flex",alignItems:"center",py:8,"&:focus-visible":{outline:`0.3rem auto ${U.z.colors.white}`}}),""),fe=Object(A.a)(le.a,{target:"emcmdy10",label:"IconButton"})(U.y.css({display:"flex",alignItems:"center",p:4,justifyContent:"center","&:focus-visible":{outline:`0.3rem auto ${U.z.colors.white}`}}),"");function TaskGroup_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function TaskGroup_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?TaskGroup_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TaskGroup_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const TaskGroup=({completeOrIncompleteTask:e,expandOrCollapseTask:t,expandedTasks:a,progress:r,projectTaskIndices:c,taskGroup:n})=>o.a.createElement(o.a.Fragment,null,n.heading&&o.a.createElement(re.a,{as:"h3",mx:24,my:16,fontSize:22,fontWeight:"bold"},n.heading),n.tasks.map((n=>{const s=c[n.task_key];return o.a.createElement(ObjectiveTask,{key:n.task_key,task:TaskGroup_objectSpread(TaskGroup_objectSpread({},n),{},{done:!!r.checklist[n.task_key]}),index:s+1,isExpanded:a[n.task_key],setIsExpanded:e=>t(n.task_key,e),setIsComplete:(t,a)=>e({taskKey:n.task_key,taskIndex:s,isComplete:t,trackingTarget:a})})})));function ObjectivePanel_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ObjectivePanel_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ObjectivePanel_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ObjectivePanel_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const getNextIncompleteTask=(e,t,a=0)=>{for(let r=a;r<e.length;r+=1){const a=e[r];if(!t.checklist[a.task_key])return a.task_key}},ObjectivePanel=({presenter:e,broadcast:t})=>{const a=e.project,r=e.contentParentTitle,l=e.progress,i=Object(n.useState)({}),p=Object(c.a)(i,2),d=p[0],b=p[1],u=Object(n.useState)(!1),k=Object(c.a)(u,2),j=k[0],m=k[1],O=Object(n.useState)(""),h=Object(c.a)(O,2),f=h[0],y=h[1],_=useTaskChecklist(a,l).count,g=useProjectTracking(),w=g.trackExpandAllTasksClick,E=g.trackCollapseAllTasksClick,C=g.trackTaskCompletionClick,v=Object(s.useDispatch)(),P=a.projectInformation.self_assessments.flatMap((e=>e.tasks)),x=Object(n.useMemo)((()=>P.reduce(((e,t,a)=>(e[t.task_key]=a,e)),{})),[P]);Object(n.useEffect)((()=>{if("project"!==(null==l?void 0:l.type)||null==l||!l.checklist)return;if(f)return;const e=getNextIncompleteTask(P,l);e&&(y(e),b((t=>ObjectivePanel_objectSpread(ObjectivePanel_objectSpread({},t),{},{[e]:!0}))))}),[l,P,f,_]);const T=Object(n.useCallback)(((e,t)=>{b((a=>ObjectivePanel_objectSpread(ObjectivePanel_objectSpread({},a),{},{[e]:t})))}),[]),S=Object(n.useCallback)((({taskKey:e,taskIndex:r,isComplete:c,trackingTarget:n})=>{if(v(updateProjectTaskProgress(a,e,c,{context:"objective"})),C(n),!c)return;((null==_?void 0:_.complete)||0)<1&&(t("start"),v(startProject(a)));const o={[e]:!1},s=getNextIncompleteTask(P,l,r+1);s&&(o[s]=!0,y(s)),b((e=>ObjectivePanel_objectSpread(ObjectivePanel_objectSpread({},e),o)))}),[a,l,v,P,null==_?void 0:_.complete,t,C]),D=Object(n.useCallback)((e=>{const t={};for(const a of P)t[a.task_key]=e;b(t),m(e),e?w():E()}),[P,w,E]);return o.a.createElement(TabbedNarrativePanel,{contentTitle:r},o.a.createElement(ne,{sectionTitle:a.title,sectionDescription:e.project.projectInformation.objective,descriptionIsMarkdown:!0},o.a.createElement(oe.a,{variant:"inline",onClick:()=>D(!j),my:16},j?"Collapse all tasks":"Expand all tasks")),o.a.createElement(se.a,{variant:"plain"},a.projectInformation.self_assessments.map((e=>o.a.createElement(TaskGroup,{completeOrIncompleteTask:S,expandOrCollapseTask:T,expandedTasks:d,key:`${e.tasks[0].task_key}-group`,taskGroup:e,progress:l,projectTaskIndices:x})))))};var ye=a("PGlZ"),_e=a("qvL1");const DownloadButton=({project:e})=>{const t=Object(s.useSelector)(_.P),a=useProjectTracking().trackDownloadCodeClick,r=e.slug,c=e.title,n=e.projectInformation.download_path;return o.a.createElement(F.b,{href:n,onClick:()=>{Object(M.b)("user","email_trigger",{content_item_name:c,content_item_id:r,type:"ipp_start_download"}),a()},"data-testid":"download-btn",disabled:!t},"Download")},DownloadSection=({project:e})=>{const t=Object(ye.a)(),a=t.inView,r=t.ref,c=useProjectTracking().trackDownloadCodeImpression;return Object(n.useEffect)((()=>{a&&c()}),[c,a]),o.a.createElement(ne,{sectionTitle:_e.download_section.title,sectionDescription:_e.download_section.description,ref:r},o.a.createElement(DownloadButton,{project:e}))};var ge=a("xskg"),we=a("DUW3"),Ee=a("DRny"),Ce=a("b0K7"),ve=a("dcaa"),Pe=a("c2gB"),xe=a("qwNl"),Te=a("Ff2n");const Se=["isExpanded","renderExpanded"],MoreHelpItemWrapper=e=>{let t=e.isExpanded,a=e.renderExpanded,r=Object(Te.a)(e,Se);return a?o.a.createElement(se.d,Object(Q.a)({expanded:Boolean(t),renderExpanded:a},r)):o.a.createElement(se.d,r)},MoreHelpItem=({IconComponent:e,problemText:t,linkText:a,linkHref:r,onClick:s,openInNewWindow:l,renderExpanded:i})=>{const p=Object(n.useState)(!1),d=Object(c.a)(p,2),b=d[0],u=d[1];return o.a.createElement(MoreHelpItemWrapper,{isExpanded:b,renderExpanded:i},o.a.createElement(se.b,{size:"xl",fill:!0},o.a.createElement(e,{"aria-hidden":!0,mr:12})," ",o.a.createElement(re.a,{mr:8},t),o.a.createElement(oe.a,{display:"flex",href:r,onClick:i?()=>u(!b):s,target:l?"_blank":"_self"},`${a} `,l&&o.a.createElement(xe.a,{alignSelf:"flex-start",size:18,ml:12}))))},MoreHelpSection=()=>{const e=Object(s.useSelector)(_.E),t=Object(s.useSelector)(_.J),a=Object(s.useSelector)(_.z),r=useProjectTracking(),l=r.trackForumLinkClick,i=r.trackCheatsheetClick,p=r.trackGeneralFAQClick,d=Object(n.useState)(!1),b=Object(c.a)(d,2),u=b[0],k=b[1],j=Object(Pe.b)(),m=Object(c.a)(j,2),O=m[0],h=m[1].resetWorkspace,f=[{IconComponent:ge.a,problemText:"Can't find your question here?",linkText:"Check the Forums",linkHref:Ce.Y,onClick:()=>{l()},openInNewWindow:!0,key:"forums"},{IconComponent:we.a,problemText:"Cheatsheet:",linkText:`${null==t?void 0:t.title}: ${null==a?void 0:a.title}`,linkHref:e,onClick:()=>{i()},openInNewWindow:!0,key:"cheatsheet"},{IconComponent:Ee.a,problemText:"Have general questions?",linkText:"See our FAQ",linkHref:Ce.db,onClick:()=>{p()},openInNewWindow:!0,key:"faq"}];return o.a.createElement(ne,{sectionTitle:"More help",sectionDescription:"Still stuck? Explore some resources that may help."},o.a.createElement(se.a,{variant:"plain"},f.map((e=>o.a.createElement(MoreHelpItem,e)))),o.a.createElement(ve.a,{isOpen:u,handleClose:()=>k(!1),handleReset:()=>O?h():null}))};var De=a("eC1V");const Ie=Object(A.a)(De.a,{target:"e1u1h47t0",label:"WalkthroughVideo"})(Object(U.h)({width:"100%"}),""),WalkthroughSection=({videoUrl:e})=>{const t=useProjectTracking(),a=t.trackWalkthroughVideoImpression,r=t.trackWalkthroughVideoPlayClick,c=t.trackWalkthroughVideoNewTabClick,s=Object(ye.a)(),l=s.inView,i=s.ref;return Object(n.useEffect)((()=>{l&&a()}),[a,l]),o.a.createElement(ne,{sectionTitle:_e.walkthrough_section.title,sectionDescription:_e.walkthrough_section.description,ref:i},o.a.createElement(Ie,{videoUrl:e,videoTitle:_e.walkthrough_section.title,onPlay:()=>r()}),o.a.createElement(oe.a,{target:"_blank",display:"flex",href:e,mt:16,onClick:()=>c()},"Open video in separate window"," ",o.a.createElement(xe.a,{alignSelf:"flex-start",size:18,ml:12})))},ResourcePadding=({children:e})=>e?o.a.createElement(ce.a,{mb:16},e):null,ResourcesPanel=({presenter:e})=>{const t=e.project,a=e.contentParentTitle,r=e.contentItemTitle,c=t.projectInformation,n=c.video_url,s=c.download_path,l=r||a;return o.a.createElement(TabbedNarrativePanel,{contentTitle:l},o.a.createElement(ResourcePadding,null,n&&o.a.createElement(WalkthroughSection,{videoUrl:n})),o.a.createElement(ResourcePadding,null,s&&o.a.createElement(DownloadSection,{project:t})),o.a.createElement(MoreHelpSection,null))},ProjectNarrative=e=>{let t=Object(Q.a)({},e);useMeaningfulContentLoaded();const a=useProjectTracking(),r=a.trackObjectiveTabClick,c=a.trackResourcesTabClick;return o.a.createElement(TabbedNarrative,{onTabChange:e=>{0===e&&r(),1===e&&c()}},o.a.createElement(ObjectivePanel,t),o.a.createElement(ResourcesPanel,t))};var Ke=a("yy36"),Be=a("w1aO");function ProjectBrief_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ProjectBrief_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ProjectBrief_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ProjectBrief_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ProjectBrief=({config:e})=>{const t=Object(s.useSelector)(_.s),a=Object(s.useSelector)(_.F),r=Object(s.useSelector)(_.J),i=Object(s.useSelector)(Ke.W),p=Object(s.useSelector)(Ke.V),d=Object(n.useState)(i),b=Object(c.a)(d,2),u=b[0],k=b[1],j=Object(n.useState)(!0),m=Object(c.a)(j,2),O=m[0],h=m[1];Object(n.useEffect)((()=>{!u&&p?(async()=>{const e=await Object(l.a)(Be.a.ProjectRedesign);k(e),h(!1)})():h(!1)}),[h,p,u]);const f=Object(n.useMemo)((()=>{var c,n;return{presenter:ProjectBrief_objectSpread(ProjectBrief_objectSpread({},e),{},{contentParentTitle:a?a.title:null==r?void 0:r.title,progress:t}),broadcast:()=>{},modifiers:{assessments:null==e||null===(c=e.project)||void 0===c||null===(n=c.projectInformation)||void 0===n?void 0:n.self_assessments}}}),[e,t,a,r]);return O?null:"variant"===u?o.a.createElement(ProjectNarrative,f):o.a.createElement(narrative_Brief,f)};t.default=ProjectBrief},qvL1:function(e){e.exports=JSON.parse('{"download_section":{"title":"Download Code","description":"If you choose to do this project on your computer instead of Codecademy, you can download what you’ll need by clicking the“Download” button below."},"walkthrough_section":{"title":"Project Walkthrough","description":"If you get stuck during this project or would like to see an experienced developer work through the project, watch the following project walkthrough video."}}')}}]);
//# sourceMappingURL=LayoutComponents-ProjectBrief~1448bf7c.1e59b39861c99c23d2b1.chunk.js.map