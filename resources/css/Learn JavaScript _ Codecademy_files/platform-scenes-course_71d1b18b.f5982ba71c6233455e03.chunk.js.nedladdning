(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[102],{PyEA:function(e,t,n){"use strict";n.r(t);var r=n("wx14"),o=n("rePB"),s=n("ODXe"),c=n("q1tI"),a=n.n(c),i=n("/MKj"),u=n("GR0a"),l=n("/BuZ"),p=n("e18T"),b=n("cHig"),h=n("yy36"),O=n("Ff2n"),C=n("cQ3R"),j=n("b0K7"),d=n("FsEs"),m=n("wMKF"),y=n("1xSP"),w=n("lzsc"),f=n("c8W1"),P=n("2oex"),g=n("CWAm"),I=n("raiL"),E=n("givd"),_=n("J2dO");const x=["currentContentItem","hasCourseAccess","hasCourseContentItemAccess","platformPage","contentTitle"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v={showModal:E.c,nextContentItemRequested:f.b,trackVisit:g.i},CourseRouteComponent=e=>{const t=y.c[e.currentContentItem.type].component;return a.a.createElement(t,e)};class courseContentItem_CourseContentItem extends c.Component{constructor(...e){super(...e),Object(o.a)(this,"state",{contentCompleted:!1}),Object(o.a)(this,"componentDidUpdate",(e=>{e.hasCourseContentItemAccess&&!this.props.hasCourseContentItemAccess&&this.showProExclusiveCourseInterstitial()})),Object(o.a)(this,"redirectToContainerCourse",(()=>{const e=this.props.locationQuery.course_redirect;return!!e&&(window.location.assign(Object(j.gb)(e)),!0)})),Object(o.a)(this,"showNextContentInterstitial",(()=>{const e=this.props,t=e.hasNextContent,n=e.isCourseCompleted,r=e.interstitialsFeatureFlagEnabled;if(t||n)r?this.setState({contentCompleted:!0}):this.props.nextContentItemRequested({returnPath:this.returnPath()});else{if(this.redirectToContainerCourse())return;window.location.assign(this.returnPath())}})),Object(o.a)(this,"showProExclusiveCourseInterstitial",(()=>{this.props.showModal({type:"ProExclusiveCourseInterstitial",returnPath:this.returnPath()})}))}componentDidMount(){var e;this.props.contentIds&&((e=window).dataLayer||(e.dataLayer=[]),window.dataLayer.push({event:"content_id_loaded",content_id:Object(m.a)(this.props.contentIds)}));this.props.hasCourseContentItemAccess||this.showProExclusiveCourseInterstitial()}returnPath(){const e=this.props.locationParams;return Object(j.gb)(e.trackSlug)}renderCourseRouteComponent(){const e=this.props,t=e.currentContentItem,n=(e.hasCourseAccess,e.hasCourseContentItemAccess),o=e.platformPage,s=(e.contentTitle,_objectSpread(_objectSpread({},Object(O.a)(e,x)),{},{exitPaths:{logo:"/",back:this.returnPath()},navigateToExercise:this.props.navigateToExercise,redirectToContainerCourse:this.redirectToContainerCourse,showNextContentInterstitial:this.showNextContentInterstitial}));return n?a.a.createElement(CourseRouteComponent,Object(r.a)({next:()=>{}},s,{platformPage:o,currentContentItem:t})):"lesson"===t.type?a.a.createElement(_.a,{contentItemSlug:t.slug,isFreeTrack:!1,hideSignUp:!0}):a.a.createElement(l.a,null)}render(){const e=this.props.contentTitle,t=this.state.contentCompleted;return a.a.createElement(a.a.Fragment,null,a.a.createElement(C.a,{title:e}),t?a.a.createElement(d.a,null):this.renderCourseRouteComponent())}}var S=Object(i.connect)((e=>({currentCourse:Object(P.J)(e),contentTitle:Object(P.j)(e),currentContentItem:Object(P.q)(e),nextContentItems:Object(P.Y)(e),hasNextContent:Object(P.V)(e),isCourseCompleted:Object(w.b)(e),hasCourseAccess:Object(P.O)(e),hasCourseContentItemAccess:Object(P.P)(e),contentIds:Object(P.i)(e),interstitialsFeatureFlagEnabled:Object(I.b)(e,"interstitials_techdebt")})),v)(courseContentItem_CourseContentItem);function course_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function course_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?course_ownKeys(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):course_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const A={fetchInitialCourseContent:b.b};t.default=Object(i.connect)((e=>({isAnonymous:Object(h.C)(e)})),A)((e=>{const t=Object(c.useState)(!0),n=Object(s.a)(t,2),o=n[0],i=n[1],b=e.locationParams,h=e.locationQuery,O=e.dispatch,C=e.fetchInitialCourseContent,j=e.isAnonymous;if(Object(c.useEffect)((()=>{if(j)return;i(!0),(async()=>{await C(),i(!1)})()}),[j,b.trackSlug,C]),j||o)return a.a.createElement(l.a,null);return a.a.createElement(S,Object(r.a)({navigateToExercise:(e,t=!1)=>{let n=p.d(course_objectSpread(course_objectSpread({},b),{},{sectionType:"exercises",exerciseSlug:e,query:h}));t&&(n=Object(u.redirect)(n)),O(n)}},e))}))}}]);
//# sourceMappingURL=platform-scenes-course~71d1b18b.f5982ba71c6233455e03.chunk.js.map